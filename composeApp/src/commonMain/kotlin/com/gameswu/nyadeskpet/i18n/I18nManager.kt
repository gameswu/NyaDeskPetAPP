package com.gameswu.nyadeskpet.i18n

/**
 * 简易国际化管理器
 * 根据 locale 返回对应的翻译字符串
 */
object I18nManager {
    private var currentLocale: String = "zh-CN"

    fun setLocale(locale: String) {
        currentLocale = locale
    }

    fun t(key: String): String = translations[currentLocale]?.get(key)
        ?: translations["zh-CN"]?.get(key)
        ?: key

    fun availableLocales(): List<Pair<String, String>> = listOf(
        "zh-CN" to "简体中文",
        "en-US" to "English"
    )

    private val translations: Map<String, Map<String, String>> = mapOf(
        "zh-CN" to mapOf(
            // 顶栏
            "topBar.connected" to "已连接",
            "topBar.connecting" to "连接中...",
            "topBar.disconnected" to "未连接",

            // 标签页
            "tabs.pet" to "宠物",
            "tabs.chat" to "聊天",
            "tabs.settings" to "设置",

            // 消息
            "messages.welcome" to "你好！有什么可以帮你的吗？",
            "messages.confirmClose" to "确定要退出吗？",

            // 聊天
            "chat.inputPlaceholder" to "输入消息...",
            "chat.send" to "发送",
            "chatWindow.voice" to "语音输入",
            "chatWindow.camera" to "摄像头",
            "chatWindow.attach" to "发送文件",
            "chat.reasoning" to "思考过程",
            "chat.newConversation" to "新对话",
            "chat.deleteConversation" to "删除对话",
            "chat.noMessages" to "暂无消息",
            "chat.toolConfirmTitle" to "工具调用确认",
            "chat.approve" to "允许",
            "chat.reject" to "拒绝",

            // 设置
            "settings.title" to "设置",
            "settings.connection" to "连接",
            "settings.wsUrl" to "WebSocket 地址",
            "settings.backendMode" to "后端模式",
            "settings.builtin" to "内置",
            "settings.custom" to "自定义",
            "settings.agentPort" to "Agent 端口",
            "settings.autoConnect" to "自动连接",
            "settings.display" to "显示",
            "settings.theme" to "主题",
            "settings.themeSystem" to "跟随系统",
            "settings.themeLight" to "浅色",
            "settings.themeDark" to "深色",
            "settings.language" to "语言",
            "settings.showSubtitle" to "显示字幕",
            "settings.audio" to "音频",
            "settings.volume" to "音量",
            "settings.character" to "角色",
            "settings.useCustomCharacter" to "使用自定义角色",
            "settings.customName" to "名称",
            "settings.customPersonality" to "人格/性格描述",
            "settings.model" to "模型",
            "settings.modelPath" to "模型路径",
            "settings.interaction" to "交互",
            "settings.tapConfig" to "触碰配置",
            "settings.microphone" to "麦克风",
            "settings.micAutoSend" to "自动发送",
            "settings.micBackgroundMode" to "后台模式",
            "settings.micVolumeThreshold" to "音量阈值",
            "settings.asrModel" to "语音识别模型",
            "settings.log" to "日志",
            "settings.logEnabled" to "启用日志",
            "settings.logRetentionDays" to "日志保留天数",
            "settings.about" to "关于",
            "settings.resetToDefaults" to "恢复默认设置",
            "settings.version" to "版本",
            "settings.updateSource" to "更新源",
            "settings.checkUpdate" to "检查更新",
            "settings.checking" to "检查中...",
            "settings.newVersionAvailable" to "发现新版本",
            "settings.goToDownload" to "前往下载",
            "settings.alreadyLatest" to "当前已是最新版本",
            "settings.dataManagement" to "数据管理",
            "settings.dataDir" to "应用数据目录",
            "settings.dataDirSize" to "占用空间",
            "settings.openDataDir" to "打开目录",
            "settings.clearModelCache" to "清除模型缓存",
            "settings.clearCacheConfirm" to "确认清除模型缓存？下次启动时将重新从内置资源复制模型文件。",
            "settings.confirm" to "确认",
            "settings.cancel" to "取消",
            "settings.saveButton" to "保存设置",
            "settings.usageHelp" to "使用帮助",
            "settings.donate" to "捐赠支持",
            "settings.projectRepo" to "项目地址",
            "settings.tapConfigDesc" to "配置触碰不同区域时的反应动作",
            "settings.tapAreaDesc" to "区域描述",
            "settings.tapAreaDescPlaceholder" to "触碰此区域时发送给 AI 的描述",
            "settings.expression" to "表情",
            "settings.motion" to "动作",
            "settings.logLevels" to "日志等级",
            "settings.days" to "天",

            // Agent
            "agent.title" to "Agent 管理",
            "agent.status" to "状态",
            "agent.running" to "运行中",
            "agent.stopped" to "已停止",
            "agent.start" to "启动",
            "agent.stop" to "停止",
            "agent.providers" to "LLM Provider",
            "agent.ttsProviders" to "TTS Provider",
            "agent.tools" to "工具",
            "agent.mcpServers" to "MCP 服务器",
            "agent.commands" to "指令",
            "agent.skills" to "技能",
            "agent.noProviders" to "暂无 Provider",
            "agent.noTools" to "暂无工具",
            "agent.addProvider" to "添加 Provider",
            "agent.tabs.overview" to "概览",
            "agent.tabs.tools" to "工具",
            "agent.tabs.plugins" to "插件",
            "agent.tabs.commands" to "指令",
            "agent.tabs.skills" to "技能",
            "agent.serverStatus" to "服务状态",
            "agent.address" to "地址",
            "agent.clients" to "连接数",
            "agent.uptime" to "运行时间",
            "agent.addTts" to "添加 TTS",
            "agent.tools.title" to "Function 工具",
            "agent.tools.count" to "%d 个工具",
            "agent.tools.enabledCount" to "(%d 已启用)",
            "agent.tools.empty" to "暂无已注册的工具",
            "agent.mcp.title" to "MCP 服务器",
            "agent.mcp.noServers" to "暂无 MCP 服务器",
            "agent.mcp.add" to "添加 MCP 服务器",
            "agent.mcp.name" to "名称",
            "agent.mcp.description" to "描述",
            "agent.mcp.transport" to "传输方式",
            "agent.mcp.command" to "命令",
            "agent.mcp.url" to "URL",
            "agent.mcp.workingDir" to "工作目录",
            "agent.mcp.env" to "环境变量 (JSON)",
            "agent.mcp.save" to "保存",
            "agent.mcp.cancel" to "取消",
            "agent.plugins.description" to "管理 Agent 插件，扩展内置 Agent 的能力",
            "agent.plugins.refresh" to "刷新",
            "agent.plugins.openDir" to "打开插件目录",
            "agent.plugins.clearData" to "清除数据",
            "agent.plugins.empty" to "暂无已安装的 Agent 插件",
            "agent.commands.title" to "斜杠指令",
            "agent.commands.description" to "管理已注册的斜杠指令，在对话输入框中输入 / 触发补全",
            "agent.commands.filterLabel" to "从 LLM 上下文中过滤指令消息",
            "agent.commands.count" to "%d 个指令",
            "agent.commands.empty" to "暂无已注册的指令",
            "agent.skills.title" to "Agent 技能",
            "agent.skills.description" to "管理 Agent 技能，技能是可组合多个工具和 LLM 调用的高级能力，由 Agent 插件注册",
            "agent.skills.count" to "%d 个技能",
            "agent.skills.empty" to "暂无已注册的技能",
            "agent.noCommands" to "暂无指令",
            "agent.noSkills" to "暂无技能",
        ),
        "en-US" to mapOf(
            "topBar.connected" to "Connected",
            "topBar.connecting" to "Connecting...",
            "topBar.disconnected" to "Disconnected",
            "tabs.pet" to "Pet",
            "tabs.chat" to "Chat",
            "tabs.settings" to "Settings",
            "messages.welcome" to "Hello! How can I help you?",
            "messages.confirmClose" to "Are you sure you want to quit?",
            "chat.inputPlaceholder" to "Type a message...",
            "chat.send" to "Send",
            "chatWindow.voice" to "Voice",
            "chatWindow.camera" to "Camera",
            "chatWindow.attach" to "Attach",
            "chat.reasoning" to "Reasoning",
            "chat.newConversation" to "New Conversation",
            "chat.deleteConversation" to "Delete",
            "chat.noMessages" to "No messages yet",
            "chat.toolConfirmTitle" to "Confirm Tool Execution",
            "chat.approve" to "Approve",
            "chat.reject" to "Reject",
            "settings.title" to "Settings",
            "settings.connection" to "Connection",
            "settings.wsUrl" to "WebSocket URL",
            "settings.backendMode" to "Backend Mode",
            "settings.builtin" to "Built-in",
            "settings.custom" to "Custom",
            "settings.agentPort" to "Agent Port",
            "settings.autoConnect" to "Auto Connect",
            "settings.display" to "Display",
            "settings.theme" to "Theme",
            "settings.themeSystem" to "System",
            "settings.themeLight" to "Light",
            "settings.themeDark" to "Dark",
            "settings.language" to "Language",
            "settings.showSubtitle" to "Show Subtitles",
            "settings.audio" to "Audio",
            "settings.volume" to "Volume",
            "settings.character" to "Character",
            "settings.useCustomCharacter" to "Use Custom Character",
            "settings.customName" to "Name",
            "settings.customPersonality" to "Personality",
            "settings.model" to "Model",
            "settings.modelPath" to "Model Path",
            "settings.interaction" to "Interaction",
            "settings.tapConfig" to "Tap Configuration",
            "settings.microphone" to "Microphone",
            "settings.micAutoSend" to "Auto Send",
            "settings.micBackgroundMode" to "Background Mode",
            "settings.micVolumeThreshold" to "Volume Threshold",
            "settings.asrModel" to "ASR Model",
            "settings.log" to "Log",
            "settings.logEnabled" to "Enable Logging",
            "settings.logRetentionDays" to "Retention Days",
            "settings.about" to "About",
            "settings.resetToDefaults" to "Reset to Defaults",
            "settings.version" to "Version",
            "settings.updateSource" to "Update Source",
            "settings.checkUpdate" to "Check for Updates",
            "settings.checking" to "Checking...",
            "settings.newVersionAvailable" to "New version available",
            "settings.goToDownload" to "Go to Download",
            "settings.alreadyLatest" to "You are using the latest version",
            "settings.dataManagement" to "Data Management",
            "settings.dataDir" to "App Data Directory",
            "settings.dataDirSize" to "Storage Used",
            "settings.openDataDir" to "Open Directory",
            "settings.clearModelCache" to "Clear Model Cache",
            "settings.clearCacheConfirm" to "Clear model cache? Models will be re-copied from built-in resources on next launch.",
            "settings.confirm" to "Confirm",
            "settings.cancel" to "Cancel",
            "settings.saveButton" to "Save Settings",
            "settings.usageHelp" to "Usage Help",
            "settings.donate" to "Donate",
            "settings.projectRepo" to "Project Repo",
            "settings.tapConfigDesc" to "Configure reactions when tapping different areas",
            "settings.tapAreaDesc" to "Area Description",
            "settings.tapAreaDescPlaceholder" to "Description sent to AI when this area is tapped",
            "settings.expression" to "Expression",
            "settings.motion" to "Motion",
            "settings.logLevels" to "Log Levels",
            "settings.days" to "days",
            "agent.title" to "Agent Management",
            "agent.status" to "Status",
            "agent.running" to "Running",
            "agent.stopped" to "Stopped",
            "agent.start" to "Start",
            "agent.stop" to "Stop",
            "agent.providers" to "LLM Providers",
            "agent.ttsProviders" to "TTS Providers",
            "agent.tools" to "Tools",
            "agent.mcpServers" to "MCP Servers",
            "agent.commands" to "Commands",
            "agent.skills" to "Skills",
            "agent.noProviders" to "No providers",
            "agent.noTools" to "No tools",
            "agent.addProvider" to "Add Provider",
            "agent.tabs.overview" to "Overview",
            "agent.tabs.tools" to "Tools",
            "agent.tabs.plugins" to "Plugins",
            "agent.tabs.commands" to "Commands",
            "agent.tabs.skills" to "Skills",
            "agent.serverStatus" to "Server Status",
            "agent.address" to "Address",
            "agent.clients" to "Clients",
            "agent.uptime" to "Uptime",
            "agent.addTts" to "Add TTS",
            "agent.tools.title" to "Function Tools",
            "agent.tools.count" to "%d tools",
            "agent.tools.enabledCount" to "(%d enabled)",
            "agent.tools.empty" to "No registered tools",
            "agent.mcp.title" to "MCP Servers",
            "agent.mcp.noServers" to "No MCP servers",
            "agent.mcp.add" to "Add MCP Server",
            "agent.mcp.name" to "Name",
            "agent.mcp.description" to "Description",
            "agent.mcp.transport" to "Transport",
            "agent.mcp.command" to "Command",
            "agent.mcp.url" to "URL",
            "agent.mcp.workingDir" to "Working Directory",
            "agent.mcp.env" to "Environment Variables (JSON)",
            "agent.mcp.save" to "Save",
            "agent.mcp.cancel" to "Cancel",
            "agent.plugins.description" to "Manage Agent plugins to extend built-in Agent capabilities",
            "agent.plugins.refresh" to "Refresh",
            "agent.plugins.openDir" to "Open Plugin Directory",
            "agent.plugins.clearData" to "Clear Data",
            "agent.plugins.empty" to "No installed Agent plugins",
            "agent.commands.title" to "Slash Commands",
            "agent.commands.description" to "Manage registered slash commands, type / in chat to trigger completion",
            "agent.commands.filterLabel" to "Filter command messages from LLM context",
            "agent.commands.count" to "%d commands",
            "agent.commands.empty" to "No registered commands",
            "agent.skills.title" to "Agent Skills",
            "agent.skills.description" to "Manage Agent skills - composable high-level capabilities combining tools and LLM calls, registered by Agent plugins",
            "agent.skills.count" to "%d skills",
            "agent.skills.empty" to "No registered skills",
            "agent.noCommands" to "No commands",
            "agent.noSkills" to "No skills",
        )
    )
}
